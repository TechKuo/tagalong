<ng-include src="'partial/navbar.html'"></ng-include>

<body ng-app="myApp" ng-controller="BrowseEventsController">
  <!-- Top search bar -->
  <div class="search">
  	<h1>Browse Events</h1>
  	<label>search: </label>
  	<input ng-model="query" placeholder="Browse public events" autofocus> 
  </div>

  <div class="container">
    <ul class="collapsible" data-collapsible="expandable" >
      <li ng-init="testFunction()" ng-repeat="event in publicEvents  | filter: query | orderBy : eventOrder ">
        <div class="collapsible-header" style="padding:15px; padding-bottom:5px">
        	<img src="{{event.icon}}" class="pull-left" style="margin: 0px">
        	<h2 style="float:left; padding-top:10px; padding-left: 8px">{{event.restaurantName}}</h2><h3 style="float:right; padding-top:10px">{{event.date}}</h3>
        	
        </div>
        <div class="collapsible-body">
        	<h3><span class="glyphicon glyphicon-time" aria-hidden="true"></span>   {{event.startTime}} - {{event.endTime}}</h3>
          	<h3><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>  {{event.restaurantAddress}}</h2>
          	<h3><span class="glyphicon glyphicon-user" aria-hidden="true"></span>  Host:  {{event.hostName}}</h3>
          	<h3><span class="glyphicon glyphicon-check" aria-hidden="true"></span>  Attending: ({{event.goingList.split(", ").length}}) : {{event.goingList}}</h3>
          	<h3><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>  Pending ({{event.invitedList.split(", ").length}}) : {{event.invitedList}}</h3>
          	<h5><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>  Comments: </h5><h5 style="font-style: italic">{{event.comments}}</h5>
          	<button ng-click="acceptInvite(event)" type="button" 
                    class="btn btn-primary btn-block btn-signin">
            <!-- Keep space between word and icon -->
                  <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>  Tagalong
          </button>
        </div>
      </li>
    </ul>
  </div>

</body>

<script>
    $(document).ready(function(){
    $('.collapsible').collapsible({
      accordion : false,  // A setting that changes the collapsible behavior to expandable instead of the default accordion style
      
    });
  });
</script>